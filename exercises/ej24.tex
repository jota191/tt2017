\section{Exercise 24}

The first rule is admissible but cannot be derived.


For the second rule, let's do a formal proof:


\begin{theorem}

  The following rule is derivable, assuming $x \notin FV(B)$:
  
  
  \begin{prooftree}
    \AxiomC{$\gamma ; \Gamma \vdash \exists_s x . A$}
    \AxiomC{$\gamma, x:s ; \Gamma \vdash A \Rightarrow B$}
       \RightLabel{$\exists_e$}
    \BinaryInfC{$\gamma; \Gamma \vdash B$}
  \end{prooftree}

\end{theorem}


% some definitions

\newcommand{\existsX}{\exists_s x}
\newcommand{\existsXUnfolded}
           {\lambda X. \forall_o Y .
             (\forall_s x. X x \Rightarrow Y) \Rightarrow Y }

\newcommand{\existsApplied}
           {\forall_o Y .
             (\forall_s x. A x \Rightarrow Y)
             \Rightarrow Y }

           
\begin{proof}

  Note that $\existsX A \equiv_{\text{def}}
  (\existsXUnfolded) A \succ_{\beta} \existsApplied $

\begin{prooftree}

  \AxiomC{$\gamma, x:s ; \Gamma \vdash A \Rightarrow B$}
     \RightLabel{$\forall_i$}
  \UnaryInfC{$\gamma ; \Gamma \vdash \forall x_s . (A x \Rightarrow B)$}
  
  \AxiomC{$\gamma \vdash B : o$}
  
  \AxiomC{$\gamma \vdash \existsX A : o $}
  \AxiomC{$  \existsApplied \equiv_{\beta}  \existsX A$}
  \AxiomC{$\gamma; \Gamma \vdash \existsX A$}
     \RightLabel{$\beta$}
  \TrinaryInfC{$\gamma; \Gamma \vdash \existsApplied $}

     \RightLabel{$\forall_e$}
  \BinaryInfC{$ \gamma ; \Gamma \vdash
    (\forall_s x. A x \Rightarrow B) \Rightarrow B$}

     \RightLabel{$\Rightarrow_e$}
  \BinaryInfC{$\gamma ; \Gamma \vdash B$}
\end{prooftree}

Note that leaves are axioms, a $\beta$-equivalence,
and $\gamma \vdash B:o$ which must be true since
$ \gamma, x:s \vdash (A \Rightarrow B) : o$


\end{proof}



\begin{theorem}[Left $\exists$-elimination]

  
  The following rule is admissible:
  

  \begin{prooftree}
    \AxiomC{$\gamma;\Gamma, \exists_s x . A \vdash B$}
    \RightLabel{$L\exists_{e}$}
    \UnaryInfC{$\gamma;\Gamma, A[x:=e] \vdash B$}
  \end{prooftree}

\end{theorem}

\begin{proof}

  We write a derivation, note that leaves are premises. Also note that we use
  weakening and a rule that was not derivable without it ($\exists_i$). So
  we are proving admissibility:

  \begin{prooftree}
    
    \AxiomC{$ \gamma;\Gamma, \exists_s x . A \vdash B$}
    \RightLabel{$\forall_i$}
    \UnaryInfC{$\gamma; \Gamma \vdash \exists_s x . A \Rightarrow B $}
    \RightLabel{$wk$}
    \UnaryInfC{$\gamma; \Gamma, A[x:=e] \vdash \exists_s x . A \Rightarrow B $}
    \AxiomC{$\gamma \vdash e : s$}
    \AxiomC{}
    \RightLabel{Ax}
    \UnaryInfC{$\gamma, \Gamma, A[x:=e]\vdash A [x:=e] $}
    \RightLabel{$\exists_i$}
    \BinaryInfC{$\gamma;\Gamma, A[x:=e] \vdash \exists_s x . A$}

    \RightLabel{$\Rightarrow_e$}
    \BinaryInfC{$\gamma;\Gamma, A[x:=e] \vdash B$}
  \end{prooftree}

  
\end{proof}
